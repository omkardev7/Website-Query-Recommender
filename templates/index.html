<!-------------- index.html ----------------->

<!DOCTYPE html>
<html lang="en">

<head>
    <script src="../static/scripts/tracking.js" defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content=
"width=device-width, initial-scale=1.0">
 
    <title>CodeBuddy 2.0</title>

    <!------------Iconscout CDN--------------------->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
    <link rel="stylesheet" href="../static/style.css">

    <!-- --------------Google Fonts--------------------- -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href=
"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <!-- ----------------Swiper JS------------------------------ -->
    <link rel="stylesheet" href=
"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>
<style>
    #login:hover {
        color: white;
    }
</style>

<body>
    <nav>
        <div class="container nav__container">
            <a href="{{ url_for('index') }}">
                <img alt="" src="../static/images/codebuddy.png" style="width: 50%; border-radius: 18px;">
                
            </a>

                    <!-- Centered Search Box -->
                <div class="search-container">
                    <form class="search-box" action="/search" method="GET">
                        <input type="text" name="query" placeholder="Search..." required>
                        <button type="submit">
                            <i class="uil uil-search"></i> Search
                        </button>
                    </form>
                </div>


            <ul class="nav__menu">
                
                <li><a href="{{ url_for('courses') }}">Courses</a></li>
                <li><a href="{{ url_for('blog') }}">Blog</a></li>
                <li><a href="{{ url_for('questions') }}">Questions</a></li>
                <li>
                    <a href="{{ url_for('login') }}" class="btn btn-primary" 
                        id="login">
                        Login/Register
                    </a>
                </li>
            </ul>

            <button id="open-menu-btn">
                <i class="uil uil-bars"></i>
            </button>
            <button id="close-menu-btn">
                <i class="uil uil-multiply"></i>
            </button>
        </div>
    </nav>



    <!-- ======================End Navbar================== -->


    <!-- ====================Header========================== -->
    <header>
        <div class="container header__container">
            <div class="header__left">
                <h1>
                    Start Your Coding Journay with CodeBuddy 2.0
                </h1>
                <p style="text-align: justify;">
                    Welcome to CodeBuddy 2.0, an updated version 
                    of CodeBuddy. This version has new features and
                    an updated learning path to help you achieve your goals.
                </p>
                <a href="{{ url_for('courses') }}" class="btn btn-primary">
                    Let's Start
                </a>

            </div>
            <div class="header__right">
                <div class="header__right-image">
                    <img alt="" src=
"https://media.geeksforgeeks.org/wp-content/uploads/20240229234753/nn.png">
                </div>
            </div>
        </div>
    </header>

    <!-- ==================End Header========================= -->

    <!-- ==============End Category=================== -->
    <section class="categories">
        <div class="container container categories__container">
            <div class="categories__left">
                <h1>New Categories</h1>
                <p style="text-align: justify;">
                    There are some new categories or areas in which 
                    CodeBuddy 2.0 explores for our Geeks, and correct
                    and high-quality content is the point that makes 
                    CodeBudd 2.0 different from others.
                </p>
                <a href="#" class="btn"> 
                    Learn More
                </a>
            </div>
            <div class="categories__right">
                <article class="category">
                    <span class="category__icon">
                        <i class="uil uil-bitcoin-circle"></i>
                    </span>
                    <h5> 
                        <a href="#" 
                            target="_blank"> 
                            Blockchain 
                        </a>
                    </h5>
                    <p>
                        Blockchain is a secure way of 
                        recording transactions.
                    </p>
                </article>

                <article class="category">
                    <span class="category__icon">
                        <i class="uil uil-palette"></i>
                    </span>
                    <h5> 
                        <a href="#"> 
                            Graphic Design 
                        </a>
                    </h5>
                    <p>
                        Graphic Design can be found on anything 
                        from billboards to mobile apps.
                    </p>
                </article>

                <article class="category">
                    <span class="category__icon">
                        <i class="uil uil-usd-circle"></i>
                    </span>
                    <h5> 
                        <a href="#">
                            Finance 
                        </a>
                    </h5>
                    <p>
                        The specialised study of how a company manages 
                        its funds is known as Finance.
                    </p>
                </article>

                <article class="category">
                    <span class="category__icon">
                        <i class="uil uil-megaphone"></i>
                    </span>
                    <h5>
                        <a href="#"> 
                            Marketing 
                        </a>
                    </h5>
                    <p>
                        Marketing is key in management, involving activities 
                        to promote services for sale.
                    </p>
                </article>

                <article class="category">
                    <span class="category__icon">
                        <i class="uil uil-music"></i>
                    </span>
                    <h5>Music </h5>
                    <p>
                        Music is the art form that combines sounds 
                        to create expression, and harmony.
                    </p>
                </article>
                <article class="category">
                    <span class="category__icon">
                        <i class="uil uil-puzzle-piece"></i>
                    </span>
                    <h5> 
                        <a href=#"> 
                            Business
                        </a>
                    </h5>
                    <p>
                        Business is the pursuit of profit through 
                        the exchange of services.
                    </p>
                </article>

            </div>
        </div>
    </section>
    <!-- =============End Category================ -->

    <!-- ==============Courses================= -->
    <section class="courses">
        <h2 style="color: gray
        ;">CodeBuddy 2.0 Courses</h2>
        <div class="container courses__container">
            <article class="course">
                <div class="course__image">
                    <img alt="" src=
"https://media.geeksforgeeks.org/wp-content/uploads/20240229234849/six.webp" >
                </div>
                <div class="course__info">
                    <h4>Master Java Programming</h4>
                    <p style="text-align: justify;"> 
                        "CodeBuddy 2.0 offers a 90% refund if you 
                        complete 90% of the course within 90 days."</p>
                    <a href="{{ url_for('java') }}" class="btn btn-primary">Learn More</a>
                    
                </div>
            </article>

            <article class="course">
                <div class="course__image">
                    <img src=
"https://media.geeksforgeeks.org/wp-content/uploads/20240229234956/seven.webp"
                        alt="compiler">

                </div>
                <div class="course__info">
                    <h4>Software Testing and Automation</h4>
                    <p style="text-align: justify;">
                        CodeBuddy 2.0 offers a 90% refund if you 
                        complete 90% of the course within 90 days.
                    </p>
                    
                    <a href="{{ url_for('soft_test') }}" class="btn btn-primary">
                        Learn More
                    </a>
                </div>
            </article>


            <article class="course">
                <div class="course__image">
                    <img alt="" src=
"https://media.geeksforgeeks.org/wp-content/uploads/20240301085613/ooo.webp">
                </div>
                <div class="course__info">
                    <h4>Data Structures & Algorithms in Python - Self Paced</h4>
                    <p style="text-align: justify;">
                        CodeBuddy 2.0 offers a 90% refund if you 
                        complete 90% of the course within 90 days. 
                    </p>
                    <a href="{{ url_for('dsa_guide') }}" class="btn btn-primary">
                        Learn More
                    </a>
                </div>
            </article>
        </div>
    </section>

    <!-- ===============End Courses===================== -->


    <!-- ===============FAQ======================= -->

    <section class="faqs">
        <h2 style="color:rgb(98, 95, 95);">
            Frequently Asked Questions
        </h2>
        <div class="container faqs__container">
            <article class="faq ">
                <div class="faq__icon">
                    <i class="uil uil-plus"></i>
                </div>
                <div class="question__answer">
                    <h4>
                        Will I actually get 90% of my course fee back?
                    </h4>
                    <p>
                        Yes, To qualify for the refund,you must complete 90% 
                        of the course content within 90 days from
                        the date of purchase.
                    </p>
                </div>
            </article>

            <article class="faq">
                <div class="faq__icon">
                    <i class="uil uil-plus"></i>
                </div>
                <div class="question__answer">
                    <h4>
                        Is there any number to contact for queries?
                    </h4>
                    <p>
                        You may call us on +91-xxxxxxxxx in case 
                        of any query.
                    </p>
                </div>
            </article>

            <article class="faq">
                <div class="faq__icon">
                    <i class="uil uil-plus"></i>
                </div>
                <div class="question__answer">
                    <h4>
                        How can I enroll for this program?
                    </h4>
                    <p>
                        You need to fill out an Application form post 
                        initial registration. After that, your application
                        will be reviewed by our team to assess your 
                        eligibility for this program.
                    </p>
                </div>
            </article>

            <article class="faq">
                <div class="faq__icon">
                    <i class="uil uil-plus"></i>
                </div>
                <div class="question__answer">
                    <h4>
                        What if I am not selected?
                    </h4>
                    <p>
                        You will be able to re-apply to the program 
                        based on your eligibility criteria.
                    </p>
                </div>
            </article>

            <article class="faq">
                <div class="faq__icon">
                    <i class="uil uil-plus"></i>
                </div>
                <div class="question__answer">
                    <h4>
                        Once I am enrolled in the program, for 
                        how long will the course content be available for?
                    </h4>
                    <p>
                        The course content will be available for a period 
                        of 1 year from the date of purchase.
                    </p>
                </div>
            </article>

            <article class="faq">
                <div class="faq__icon">
                    <i class="uil uil-plus"></i>
                </div>
                <div class="question__answer">
                    <h4>
                        Can I make the payment through PayPal?
                    </h4>
                    <p>
                        Yes. Mail us with your details at 
                        xyz@codebuddy.org.
                    </p>
                </div>
            </article>
        </div>
    </section>

    <!-- ========================End FAQ===================== -->

    <!-- =================================Footer===================== -->

    <footer>
        
        <div class="footer__copyright">
            <small> 
                <strong style="color: green;">
                    CodeBuddy 2.0
                </strong> 
                &copy; All Right Reserved
            </small>
        </div>
    </footer>

    <!-- ============================End Footer=========================== -->

    <!-- ================================= User Behaviour Tracking ===================== -->
    <script>
        class UserTracker {
            constructor() {
                this.clicks = 0;
                this.startTime = Date.now();
                this.lastSyncTime = Date.now();
                this.syncInterval = 5000; // Sync every 5 seconds
                this.setupEventListeners();
                this.startPeriodicSync();
            }

            setupEventListeners() {
                // Track clicks
                document.addEventListener('click', () => {
                    this.clicks++;
                });

                // Track when user leaves the page
                window.addEventListener('beforeunload', () => {
                    this.syncData(true);
                });
            }

            startPeriodicSync() {
                setInterval(() => {
                    this.syncData();
                }, this.syncInterval);
            }

            async syncData(isFinal = false) {
                const currentTime = Date.now();
                const timeSpent = Math.floor((currentTime - this.lastSyncTime) / 1000); // Convert to seconds
                
                if (timeSpent === 0 && this.clicks === 0 && !isFinal) {
                    return; // No new data to sync
                }

                const currentPath = window.location.pathname;
                const page = currentPath === '/' ? 'index' : currentPath.substring(1);

                try {
                    const response = await fetch('/track_interaction', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            page: page,
                            timeSpent: timeSpent,
                            clicks: this.clicks,
                        })
                    });

                    if (response.ok) {
                        // Reset counters after successful sync
                        this.clicks = 0;
                        this.lastSyncTime = currentTime;
                    }
                } catch (error) {
                    console.error('Error syncing tracking data:', error);
                }
            }
        }

        // Initialize tracker when page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.userTracker = new UserTracker();
        });
    </script>
</body>

</html>
